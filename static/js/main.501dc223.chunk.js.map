{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","servises/searchQuery-api.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmite","useState","searchQuery","setSearchQuery","formReset","className","s","SearchForm","onSubmit","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","value","onChange","target","placeholder","api","fetchImagesWithQuery","page","url","fetch","then","response","json","LoadMoreBtn","onClick","ButtonWrapper","Button","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","currentTarget","ImageGalleryItem","src","srcForLarge","showModal","setShowModal","toggleModal","alt","ImageGalleryItemImage","Spiner","style","textAlign","color","height","width","timeout","ImageGallery","images","setImages","setPage","isLoader","setIsLoader","newImages","hits","scrollTo","top","documentElement","scrollHeight","behavior","map","image","largeImageURL","webformatURL","id","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.501dc223.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonWrapper\":\"Button_ButtonWrapper__2JMKg\",\"Button\":\"Button_Button__12m_W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Emu2H\",\"Modal\":\"Modal_Modal__2r6tO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2jDL_\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__Duil6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2tPbH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Mufp\",\"SearchForm\":\"Searchbar_SearchForm__nS64x\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2lLi6\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__28Nrv\",\"SearchFormInput\":\"Searchbar_SearchFormInput__XSC2l\"};","import { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmite }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleChangeForm = ({ target }) => {\n    const { name, value } = target;\n    switch (name) {\n      case 'searchQuery':\n        setSearchQuery(value);\n        break;\n      default:\n        return;\n    }\n  };\n  const handleFormSubmite = e => {\n    e.preventDefault();\n    onSubmite(searchQuery);\n    formReset();\n  };\n  const formReset = () => {\n    setSearchQuery('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleFormSubmite}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          name=\"searchQuery\"\n          value={searchQuery}\n          onChange={handleChangeForm}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","const fetchImagesWithQuery = (searchQuery, page) => {\n  const apiKey = `18743526-4b128e40a70dee342e39fe313`;\n  // const baseUrl = `https://pixabay.com/api/?key=${apiKey}`;\n\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => response.json());\n};\nconst api = {\n  fetchImagesWithQuery,\n};\nexport default api;\n","import s from './Button.module.css';\nconst LoadMoreBtn = ({ onClick }) => {\n  return (\n    <div className={s.ButtonWrapper}>\n      <button className={s.Button} type=\"button\" onClick={() => onClick()}>\n        Load more\n      </button>\n    </div>\n  );\n};\nexport default LoadMoreBtn;\n","import { useEffect } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n  const handleBackdrop = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdrop}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import { useState } from 'react';\nimport Modal from '../Modal/Modal';\nimport s from './ImageGalleryItem.module.css';\nexport default function ImageGalleryItem({ src, srcForLarge }) {\n  const [showModal, setShowModal] = useState(false);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  return (\n    <div>\n      <li onClick={toggleModal} className={s.ImageGalleryItem}>\n        <img src={src} alt=\"\" className={s.ImageGalleryItemImage} />\n      </li>\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={srcForLarge} alt=\"большая картинка\"></img>\n        </Modal>\n      )}\n    </div>\n  );\n}\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Spiner = () => {\n  return (\n    <Loader\n      style={{ textAlign: 'center' }}\n      type=\"Oval\"\n      color=\"#00BFFF\"\n      height={50}\n      width={50}\n      timeout={3000} //3 secs\n    />\n  );\n};\nexport default Spiner;\n","import { useState, useEffect } from 'react';\nimport s from './ImageGallery.module.css';\nimport api from '../../servises/searchQuery-api';\nimport LoadMoreBtn from '../Button/Button';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Spiner from '../Loader/Loader.js';\n\nexport default function ImageGallery({ searchQuery }) {\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoader, setIsLoader] = useState(false);\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    setIsLoader(true);\n    setImages([]);\n    api.fetchImagesWithQuery(searchQuery, page).then(newImages => {\n      setImages([...images, ...newImages.hits]);\n      setPage(page + 1);\n      setIsLoader(false);\n    });\n  }, [searchQuery]);\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n\n  const handleLoadMore = () => {\n    setIsLoader(true);\n    setPage(page + 1);\n    return api.fetchImagesWithQuery(searchQuery, page).then(newImages => {\n      setImages([...images, ...newImages.hits]);\n      setPage(page + 1);\n      setIsLoader(false);\n    });\n  };\n\n  return (\n    <div>\n      <ul className={s.ImageGallery}>\n        {images.map(image => (\n          <ImageGalleryItem\n            srcForLarge={image.largeImageURL}\n            src={image.webformatURL}\n            key={image.id}\n          />\n        ))}\n      </ul>\n      {isLoader && <Spiner />}\n      {images.length > 0 && <LoadMoreBtn onClick={handleLoadMore} />}\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport './App.css';\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleAddSearchQuery = searchQuery => {\n    setSearchQuery(searchQuery);\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmite={handleAddSearchQuery} />\n      <ImageGallery searchQuery={searchQuery} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}