{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","servises/searchQuery-api.js","components/Loader/Loader.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","onSubmite","useState","searchQuery","setSearchQuery","formReset","className","s","SearchForm","onSubmit","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","value","onChange","target","placeholder","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","onClick","currentTarget","ImageGalleryItem","src","srcForLarge","showModal","setShowModal","toggleModal","alt","ImageGalleryItemImage","ImageGallery","images","scrollTo","top","documentElement","scrollHeight","behavior","map","image","largeImageURL","webformatURL","id","LoadMoreBtn","ButtonWrapper","Button","baseUrl","api","fetchImagesWithQuery","page","url","fetch","then","response","json","Spiner","style","textAlign","color","height","width","timeout","App","setImages","setPage","isLoader","setIsLoader","newImages","hits","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b5183ed3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Emu2H\",\"Modal\":\"Modal_Modal__2r6tO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonWrapper\":\"Button_ButtonWrapper__2JMKg\",\"Button\":\"Button_Button__12m_W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Mufp\",\"SearchForm\":\"Searchbar_SearchForm__nS64x\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2lLi6\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__28Nrv\",\"SearchFormInput\":\"Searchbar_SearchFormInput__XSC2l\"};","import { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmite }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleChangeForm = ({ target }) => {\n    const { name, value } = target;\n    switch (name) {\n      case 'searchQuery':\n        setSearchQuery(value);\n        break;\n      default:\n        return;\n    }\n  };\n  const handleFormSubmite = e => {\n    e.preventDefault();\n    onSubmite(searchQuery);\n    formReset();\n  };\n\n  const formReset = () => {\n    setSearchQuery('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleFormSubmite}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          name=\"searchQuery\"\n          value={searchQuery}\n          onChange={handleChangeForm}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","import { useEffect } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n  const handleBackdrop = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdrop}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import { useState } from 'react';\nimport Modal from '../Modal/Modal';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGalleryItem({ src, srcForLarge }) {\n  const [showModal, setShowModal] = useState(false);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  return (\n    <div>\n      <li onClick={toggleModal} className={s.ImageGalleryItem}>\n        <img src={src} alt=\"\" className={s.ImageGalleryItemImage} />\n      </li>\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={srcForLarge} alt=\"большая картинка\"></img>\n        </Modal>\n      )}\n    </div>\n  );\n}\n","import s from './ImageGallery.module.css';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nexport default function ImageGallery({ images }) {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n\n  return (\n    <div>\n      <ul className={s.ImageGallery}>\n        {images.map(image => (\n          <ImageGalleryItem\n            srcForLarge={image.largeImageURL}\n            src={image.webformatURL}\n            key={image.id}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import s from './Button.module.css';\nconst LoadMoreBtn = ({ onClick }) => {\n  return (\n    <div className={s.ButtonWrapper}>\n      <button className={s.Button} type=\"button\" onClick={() => onClick()}>\n        Load more\n      </button>\n    </div>\n  );\n};\nexport default LoadMoreBtn;\n","const apiKey = `18743526-4b128e40a70dee342e39fe313`;\nconst baseUrl = `https://pixabay.com/api/?key=${apiKey}`;\n\nconst fetchImagesWithQuery = (searchQuery, page) => {\n  const url = `${baseUrl}&q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => response.json());\n};\n\nconst api = {\n  fetchImagesWithQuery,\n};\nexport default api;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Spiner = () => {\n  return (\n    <Loader\n      style={{ textAlign: 'center' }}\n      type=\"Oval\"\n      color=\"#00BFFF\"\n      height={50}\n      width={50}\n      timeout={3000} //3 secs\n    />\n  );\n};\nexport default Spiner;\n","import { useEffect, useState } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport LoadMoreBtn from './components/Button/Button';\nimport api from './servises/searchQuery-api';\nimport Spiner from './components/Loader/Loader.js';\nimport './App.css';\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoader, setIsLoader] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    setIsLoader(true);\n    api.fetchImagesWithQuery(searchQuery, page).then(newImages => {\n      setImages([...newImages.hits]);\n      setPage(page => page + 1);\n      setIsLoader(false);\n    });\n  }, [searchQuery]);\n\n  const handleLoadMoreImages = () => {\n    setIsLoader(true);\n    return api.fetchImagesWithQuery(searchQuery, page).then(newImages => {\n      setImages([...images, ...newImages.hits]);\n      setPage(page => page + 1);\n      setIsLoader(false);\n    });\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmite={setSearchQuery} />\n      <ImageGallery images={images} />\n      {isLoader && <Spiner />}\n      {images.length > 0 && <LoadMoreBtn onClick={handleLoadMoreImages} />}\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2tPbH\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3dWMK\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__zbu_G\"};"],"sourceRoot":""}