(this["webpackJsonpreact-hw-04-hooks-images"]=this["webpackJsonpreact-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__Emu2H",Modal:"Modal_Modal__2r6tO"}},12:function(e,t,a){e.exports={ButtonWrapper:"Button_ButtonWrapper__2JMKg",Button:"Button_Button__12m_W"}},19:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2Mufp",SearchForm:"Searchbar_SearchForm__nS64x",SearchFormButton:"Searchbar_SearchFormButton__2lLi6",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__28Nrv",SearchFormInput:"Searchbar_SearchFormInput__XSC2l"}},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(1),n=a.n(c),o=a(8),s=a.n(o),u=(a(19),a(7)),i=a(3),l=a(4),m=a.n(l);function h(e){var t=e.onSubmite,a=Object(c.useState)(""),n=Object(i.a)(a,2),o=n[0],s=n[1],u=function(){s("")};return Object(r.jsx)("header",{className:m.a.Searchbar,children:Object(r.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(o),u()},children:[Object(r.jsx)("button",{type:"submit",className:m.a.SearchFormButton,children:Object(r.jsx)("span",{className:m.a.SearchFormButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:m.a.SearchFormInput,type:"text",name:"searchQuery",value:o,onChange:function(e){var t=e.target,a=t.name,r=t.value;switch(a){case"searchQuery":s(r);break;default:return}},placeholder:"Search images and photos"})]})})}var b=a(6),j=a.n(b),d=a(11),O=a.n(d),f=document.querySelector("#modal-root");function g(e){var t=e.onClose,a=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(r.jsx)("div",{className:O.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(r.jsx)("div",{className:O.a.Modal,children:a})}),f)}function _(e){var t=e.src,a=e.srcForLarge,n=Object(c.useState)(!1),o=Object(i.a)(n,2),s=o[0],u=o[1],l=function(){u(!s)};return Object(r.jsxs)("div",{children:[Object(r.jsx)("li",{onClick:l,className:j.a.ImageGalleryItem,children:Object(r.jsx)("img",{src:t,alt:"",className:j.a.ImageGalleryItemImage})}),s&&Object(r.jsx)(g,{onClose:l,children:Object(r.jsx)("img",{src:a,alt:"\u0431\u043e\u043b\u044c\u0448\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})})]})}function p(e){var t=e.images;return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Object(r.jsx)("div",{children:Object(r.jsx)("ul",{className:j.a.ImageGallery,children:t.map((function(e){return Object(r.jsx)(_,{srcForLarge:e.largeImageURL,src:e.webformatURL},e.id)}))})})}var S=a(12),x=a.n(S),y=function(e){var t=e.onClick;return Object(r.jsx)("div",{className:x.a.ButtonWrapper,children:Object(r.jsx)("button",{className:x.a.Button,type:"button",onClick:function(){return t()},children:"Load more"})})},v="https://pixabay.com/api/?key=".concat("18743526-4b128e40a70dee342e39fe313"),I={fetchImagesWithQuery:function(e,t){var a="".concat(v,"&q=").concat(e,"&page=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(e){return e.json()}))}},F=a(13),B=a.n(F),w=(a(41),function(){return Object(r.jsx)(B.a,{style:{textAlign:"center"},type:"Oval",color:"#00BFFF",height:50,width:50,timeout:3e3})});a(42);function k(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(1),s=Object(i.a)(o,2),l=s[0],m=s[1],b=Object(c.useState)(!1),j=Object(i.a)(b,2),d=j[0],O=j[1],f=Object(c.useState)(""),g=Object(i.a)(f,2),_=g[0],S=g[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(h,{onSubmite:function(e){e&&(S(e),n([]),O(!0),I.fetchImagesWithQuery(e,l).then((function(e){n([].concat(Object(u.a)(a),Object(u.a)(e.hits))),m((function(e){return e+1})),O(!1)})))}}),Object(r.jsx)(p,{images:a}),d&&Object(r.jsx)(w,{}),a.length>0&&Object(r.jsx)(y,{onClick:function(){return O(!0),I.fetchImagesWithQuery(_,l).then((function(e){n([].concat(Object(u.a)(a),Object(u.a)(e.hits))),m((function(e){return e+1})),O(!1)}))}})]})}s.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(k,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2tPbH",ImageGalleryItem:"ImageGallery_ImageGalleryItem__3dWMK",ImageGalleryItemImage:"ImageGallery_ImageGalleryItemImage__zbu_G"}}},[[43,1,2]]]);
//# sourceMappingURL=main.bdda2082.chunk.js.map